<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terms of Service - Chata</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" href="{{ url_for('static', filename='images/icon.png') }}">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        :root {
            --chata-blue: #3366ff;
            --chata-blue-light: #4d7cff;
            --chata-blue-dark: #1a4dcc;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: #000000;
            color: #ffffff;
            overflow-x: hidden;
            font-weight: 300;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            min-height: 100vh;
            position: relative;
        }

        /* Global subtle blur overlay - behind animations, in front of grid */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(1px);
            z-index: 1;
            pointer-events: none;
        }

        /* Navigation */
        .glass-nav {
            backdrop-filter: none;
            background: transparent;
            border: none;
        }
        
        .navigation {
            opacity: 0;
            transform: translateY(-50px);
            animation: slideDown 1s ease-out forwards;
            position: relative;
            z-index: 15;
        }

        .nav-item {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .nav-item:hover {
            color: var(--chata-blue);
        }
        
        .nav-item::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--chata-blue);
            transition: width 0.3s ease;
        }
        
        .nav-item:hover::after {
            width: 100%;
        }

        .logo-blue {
            color: #3366ff;
        }

        .cta-button {
            background: linear-gradient(135deg, var(--chata-blue) 0%, var(--chata-blue-light) 100%);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(51, 102, 255, 0.3);
        }
        
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(51, 102, 255, 0.4);
        }

        /* Interactive Grid Background */
        .interactive-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: #000000;
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            background-attachment: scroll;
            transition: all 0.3s ease;
        }

        .grid-cell {
            position: absolute;
            width: 50px;
            height: 50px;
            border: 1px solid rgba(51, 102, 255, 0.1);
            transition: all 0.6s ease;
            pointer-events: auto;
            background: transparent;
        }
        
        .grid-cell:hover,
        .grid-cell.active {
            background: radial-gradient(circle, rgba(51, 102, 255, 0.4) 0%, rgba(51, 102, 255, 0.2) 50%, transparent 70%);
            border-color: var(--chata-blue);
            box-shadow: 0 0 25px rgba(51, 102, 255, 0.5);
            transform: scale(1.05);
        }

        /* Hero Section */
        .terms-hero {
            position: relative;
            min-height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            margin-top: 80px;
            z-index: 10;
        }

        .terms-hero h1 {
            font-size: 3.5rem;
            font-weight: 800;
            letter-spacing: -0.02em;
            text-transform: uppercase;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #fff, #ccc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .terms-hero p {
            font-size: 1.2rem;
            font-weight: 300;
            letter-spacing: 0.05em;
            color: #888;
            text-transform: none;
        }

        /* Content Section */
        .terms-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 10;
        }

        .terms-section-block {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .terms-section-block::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--chata-blue), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .terms-section-block:hover::before {
            opacity: 1;
        }

        .terms-section-block:hover {
            transform: translateY(-5px);
            border-color: var(--chata-blue);
            box-shadow: 0 20px 40px rgba(51, 102, 255, 0.1);
        }

        .terms-section-block h2 {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: #fff;
            text-transform: none;
            letter-spacing: normal;
        }

        .terms-section-block h3 {
            font-size: 1.3rem;
            font-weight: 600;
            margin: 1.5rem 0 1rem 0;
            color: var(--chata-blue);
            text-transform: none;
            letter-spacing: normal;
        }

        .terms-section-block p {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.8;
            margin-bottom: 1rem;
            font-size: 1rem;
            text-transform: none;
            letter-spacing: normal;
            font-weight: 400;
        }

        .terms-section-block ul {
            margin: 1rem 0 1.5rem 2rem;
            text-transform: none;
            letter-spacing: normal;
        }

        .terms-section-block li {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
            margin-bottom: 0.5rem;
            font-weight: 400;
        }

        .terms-section-block strong {
            color: var(--chata-blue);
            font-weight: 600;
        }

        .contact-info {
            background: rgba(51, 102, 255, 0.1);
            border: 1px solid rgba(51, 102, 255, 0.2);
            border-radius: 12px;
            padding: 1.5rem;
            margin-top: 1rem;
        }

        .contact-info p {
            margin-bottom: 0.5rem;
            text-transform: none;
            letter-spacing: normal;
        }

        /* Footer Styles */
        .site-footer {
            margin-top: 60px;
            background: rgba(0, 0, 0, 0.9);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding: 40px 0 20px 0;
            position: relative;
            z-index: 15;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 40px;
            align-items: start;
        }

        .footer-brand {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .footer-logo {
            font-size: 2rem;
            font-weight: 700;
            color: #3366ff;
            text-decoration: none;
        }

        .footer-description {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1rem;
            line-height: 1.6;
            max-width: 300px;
            text-transform: uppercase;
        }

        .footer-section h3 {
            color: #fff;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
            letter-spacing: 0.1em;
        }

        .footer-section a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            font-size: 0.95rem;
            display: block;
            margin-bottom: 8px;
            transition: color 0.3s ease;
            text-transform: none;
        }

        .footer-section a:hover {
            color: #3366ff;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .contact-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.95rem;
            line-height: 1.4;
            text-transform: none;
        }

        .contact-item i {
            color: #3366ff;
            width: 16px;
            height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            line-height: 1;
            margin-top: 0.2em;
        }

        .contact-item a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: color 0.3s ease;
            text-transform: none;
        }

        .contact-item a:hover {
            color: #3366ff;
        }

        .footer-bottom {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
            text-transform: none;
        }

        /* Animations */
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .terms-hero h1 {
                font-size: 2.5rem;
            }
            
            .terms-content {
                padding: 1rem;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }
    </style>
</head>
<body>
    <!-- Interactive Grid Background -->
    <div class="interactive-grid" id="interactiveGrid"></div>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 w-full z-50 glass-nav navigation">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
            <div class="flex items-center h-16">
                <!-- Logo - Left aligned -->
                <div class="absolute left-0">
                    <a href="{{ url_for('home') }}" class="text-3xl font-bold logo-blue pl-4">
                        CHATA
                    </a>
                </div>
      
                <!-- Desktop Navigation - Centered -->
                <div class="hidden md:block absolute left-1/2 transform -translate-x-1/2">
                    <div class="flex items-center space-x-8">
                        <a href="{{ url_for('home') }}" class="nav-item text-white hover:text-blue-400 px-3 py-2 text-sm font-medium">HOME</a>
                    </div>
                </div>
  
                <!-- CTA Buttons - Right aligned -->
                <div class="hidden md:block absolute right-0">
                    <div class="flex items-center space-x-4 pr-4">
                        {% if session.get('user_id') %}
                            <a href="{{ url_for('dashboard') }}" class="text-white hover:text-blue-400 px-3 py-2 text-sm font-medium">DASHBOARD</a>
                            <a href="{{ url_for('logout') }}" class="cta-button text-white px-6 py-2 rounded-full text-sm font-medium">LOGOUT</a>
                        {% else %}
                            <a href="{{ url_for('login') }}" class="text-white hover:text-blue-400 px-3 py-2 text-sm font-medium">LOGIN</a>
                            <a href="{{ url_for('signup') }}" class="cta-button text-white px-6 py-2 rounded-full text-sm font-medium">
                                GET STARTED
                            </a>
                        {% endif %}
                    </div>
                </div>
  
                <!-- Mobile menu button -->
                <div class="md:hidden absolute right-0 pr-4">
                    <button type="button" class="text-white hover:text-blue-400 focus:outline-none focus:text-blue-400">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="terms-hero">
        <div>
            <h1>Terms of Service</h1>
            <p>Last updated: {{ moment.strftime('%B %d, %Y') }}</p>
        </div>
    </section>

    <!-- Content -->
    <main class="terms-content">
        <div class="terms-section-block">
            <h2>1. Acceptance of Terms</h2>
            <p>By accessing and using Chata's Instagram DM bot service ("Service"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service.</p>
        </div>

        <div class="terms-section-block">
            <h2>2. Description of Service</h2>
            <p>Chata provides an AI-powered Instagram Direct Message automation service that allows users to:</p>
            <ul>
                <li>Connect their Instagram Business accounts</li>
                <li>Automate responses to incoming messages</li>
                <li>Customize bot personality and behavior</li>
                <li>Track usage analytics and performance</li>
            </ul>
        </div>

        <div class="terms-section-block">
            <h2>3. User Accounts and Registration</h2>
            
            <h3>3.1 Account Creation</h3>
            <p>To use our Service, you must create an account by providing accurate, current, and complete information. You are responsible for maintaining the confidentiality of your account credentials.</p>
            
            <h3>3.2 Account Responsibilities</h3>
            <p>You are responsible for:</p>
            <ul>
                <li>All activities that occur under your account</li>
                <li>Maintaining the security of your password</li>
                <li>Notifying us immediately of any unauthorized use</li>
                <li>Ensuring your account information is accurate and up-to-date</li>
            </ul>
        </div>

        <div class="terms-section-block">
            <h2>4. Acceptable Use Policy</h2>
            
            <h3>4.1 Permitted Uses</h3>
            <p>You may use our Service for lawful purposes only, including:</p>
            <ul>
                <li>Managing legitimate business communications</li>
                <li>Providing customer support and engagement</li>
                <li>Automating routine responses to common inquiries</li>
            </ul>
            
            <h3>4.2 Prohibited Uses</h3>
            <p>You agree not to use the Service to:</p>
            <ul>
                <li>Send spam, unsolicited messages, or engage in harassment</li>
                <li>Violate Instagram's Terms of Service or Community Guidelines</li>
                <li>Impersonate others or misrepresent your identity</li>
                <li>Distribute malware, viruses, or harmful content</li>
                <li>Engage in fraudulent activities or scams</li>
                <li>Violate any applicable laws or regulations</li>
                <li>Attempt to reverse engineer or hack our systems</li>
            </ul>
        </div>

        <div class="terms-section-block">
            <h2>5. Instagram Integration</h2>
            
            <h3>5.1 Instagram Terms Compliance</h3>
            <p>By using our Service with Instagram, you agree to comply with Instagram's Terms of Service, Platform Policy, and Community Guidelines. You are responsible for ensuring your use of our Service does not violate Instagram's policies.</p>
            
            <h3>5.2 API Usage</h3>
            <p>Our Service uses Instagram's API to provide functionality. You acknowledge that:</p>
            <ul>
                <li>Instagram may change their API or policies at any time</li>
                <li>We are not responsible for Instagram's actions or policy changes</li>
                <li>Your access to Instagram features is subject to Instagram's approval</li>
            </ul>
        </div>

        <div class="terms-section-block">
            <h2>6. Subscription and Billing</h2>
            
            <h3>6.1 Subscription Plans</h3>
            <p>We offer various subscription plans with different features and usage limits. You may upgrade, downgrade, or cancel your subscription at any time through your account dashboard.</p>
            
            <h3>6.2 Payment Terms</h3>
            <ul>
                <li>All fees are billed in advance on a monthly or annual basis</li>
                <li>Payments are non-refundable except as required by law</li>
                <li>We may change our pricing with 30 days' notice</li>
                <li>Failed payments may result in service suspension</li>
            </ul>
            
            <h3>6.3 Usage Limits</h3>
            <p>Each subscription plan includes specific usage limits. Exceeding these limits may result in additional charges or service restrictions.</p>
        </div>

        <div class="terms-section-block">
            <h2>7. Data and Privacy</h2>
            <p>Your privacy is important to us. Our collection and use of your data is governed by our Privacy Policy, which is incorporated into these Terms by reference.</p>
            
            <h3>7.1 Data Ownership</h3>
            <p>You retain ownership of your content and data. We only use your data to provide and improve our Service.</p>
            
            <h3>7.2 Data Security</h3>
            <p>We implement industry-standard security measures to protect your data, but no method of transmission over the internet is 100% secure.</p>
        </div>

        <div class="terms-section-block">
            <h2>8. Intellectual Property</h2>
            
            <h3>8.1 Our Rights</h3>
            <p>Chata and its original content, features, and functionality are owned by us and are protected by international copyright, trademark, patent, trade secret, and other intellectual property laws.</p>
            
            <h3>8.2 Your Rights</h3>
            <p>You retain ownership of any content you create or upload to our Service. By using our Service, you grant us a limited license to use your content solely to provide the Service.</p>
        </div>

        <div class="terms-section-block">
            <h2>9. Service Availability</h2>
            <p>We strive to maintain high service availability but cannot guarantee uninterrupted access. We may temporarily suspend the Service for maintenance, updates, or other operational reasons.</p>
            
            <h3>9.1 Service Level Agreement</h3>
            <p>We target 99.9% uptime but do not guarantee specific availability levels. We are not liable for any damages resulting from service interruptions.</p>
        </div>

        <div class="terms-section-block">
            <h2>10. Limitation of Liability</h2>
            <p>To the maximum extent permitted by law, Chata shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including but not limited to loss of profits, data, or use.</p>
            
            <h3>10.1 Maximum Liability</h3>
            <p>Our total liability to you for any claims arising from the use of our Service shall not exceed the amount you paid us in the 12 months preceding the claim.</p>
        </div>

        <div class="terms-section-block">
            <h2>11. Indemnification</h2>
            <p>You agree to indemnify and hold harmless Chata from any claims, damages, or expenses arising from your use of the Service or violation of these Terms.</p>
        </div>

        <div class="terms-section-block">
            <h2>12. Termination</h2>
            
            <h3>12.1 Termination by You</h3>
            <p>You may terminate your account at any time by contacting us or using the account deletion feature in your dashboard.</p>
            
            <h3>12.2 Termination by Us</h3>
            <p>We may terminate or suspend your account immediately if you:</p>
            <ul>
                <li>Violate these Terms of Service</li>
                <li>Engage in fraudulent or illegal activities</li>
                <li>Fail to pay subscription fees</li>
                <li>Violate Instagram's policies</li>
            </ul>
            
            <h3>12.3 Effect of Termination</h3>
            <p>Upon termination, your access to the Service will cease immediately, and we may delete your account data in accordance with our Privacy Policy.</p>
        </div>

        <div class="terms-section-block">
            <h2>13. Dispute Resolution</h2>
            <p>Any disputes arising from these Terms or your use of the Service shall be resolved through binding arbitration in accordance with the rules of the American Arbitration Association.</p>
        </div>

        <div class="terms-section-block">
            <h2>14. Governing Law</h2>
            <p>These Terms shall be governed by and construed in accordance with the laws of Germany, without regard to its conflict of law provisions.</p>
        </div>

        <div class="terms-section-block">
            <h2>15. Changes to Terms</h2>
            <p>We reserve the right to modify these Terms at any time. We will notify you of any changes by posting the new Terms on this page and updating the "Last updated" date.</p>
            
            <p>Your continued use of the Service after any changes constitutes acceptance of the updated Terms.</p>
        </div>

        <div class="terms-section-block">
            <h2>16. Contact Information</h2>
            <p>If you have any questions about these Terms of Service, please contact us:</p>
            
            <div class="contact-info">
                <p><strong>Email:</strong> chata.dmbot@gmail.com</p>
                <p><strong>Phone:</strong> +33642092079</p>
                <p><strong>Address:</strong> Sch√∂pplerstr. 6, Augsburg, 86153, Germany</p>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
    <div class="footer-content">
            <!-- Brand Section -->
      <div class="footer-brand">
                <a href="{{ url_for('home') }}" class="footer-logo">CHATA</a>
                <p class="footer-description">
                    instagram ai engagement
                </p>
      </div>

            <!-- Legal Links Section -->
            <div class="footer-section">
                <h3>Legal</h3>
                <a href="{{ url_for('privacy') }}">Privacy Policy</a>
                <a href="{{ url_for('terms') }}">Terms of Service</a>
                <a href="{{ url_for('data_deletion') }}">Data Deletion</a>
      </div>

            <!-- Contact Section -->
            <div class="footer-section">
                <h3>Contact</h3>
                <div class="contact-info">
                    <div class="contact-item">
                        <i class="fas fa-envelope"></i>
                        <a href="mailto:chata.dmbot@gmail.com">chata.dmbot@gmail.com</a>
      </div>
                    <div class="contact-item">
                        <i class="fas fa-phone"></i>
                        <a href="tel:+33642092079">+33642092079</a>
                    </div>
                    <div class="contact-item">
                        <i class="fab fa-instagram"></i>
                        <a href="https://instagram.com/chata.dmbot" target="_blank">chata.dmbot</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2024 CHATA. All rights reserved.</p>
    </div>
  </footer>

  <script>
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Add scroll effect to navigation
        window.addEventListener('scroll', function() {
            const nav = document.querySelector('nav');
            if (window.scrollY > 100) {
                nav.style.background = 'rgba(0, 0, 0, 0.8)';
            } else {
                nav.style.background = 'rgba(0, 0, 0, 0.3)';
            }
        });

        // Interactive Grid Background with scroll following
        function createInteractiveGrid() {
            const grid = document.getElementById('interactiveGrid');
            const gridSize = 50;
            const cols = Math.ceil(window.innerWidth / gridSize);
            const rows = Math.ceil(window.innerHeight * 6 / gridSize); // 6x height for extended page coverage
            
            // Clear existing grid
            grid.innerHTML = '';
            
            // Create grid cells
            for (let i = 0; i < rows; i++) {
                for (let j = 0; j < cols; j++) {
                    const cell = document.createElement('div');
                    cell.className = 'grid-cell';
                    cell.style.left = j * gridSize + 'px';
                    cell.style.top = i * gridSize + 'px';
                    grid.appendChild(cell);
                }
            }
        }
        
        // Optimized scroll-based grid movement
        let ticking = false;
        let grid = null;
        
        function updateGridOnScroll() {
            if (!ticking) {
                requestAnimationFrame(function() {
                    if (!grid) {
                        grid = document.getElementById('interactiveGrid');
                    }
                    const scrollY = window.pageYOffset;
                    
                    // Grid moves up when scrolling down, but with reduced movement for smoother effect
                    grid.style.transform = `translateY(-${scrollY * 0.60}px)`;
                    ticking = false;
                });
                ticking = true;
            }
        }
        
        // Initialize grid on load
        window.addEventListener('load', function() {
            // Ensure page starts at top
            window.scrollTo(0, 0);
            createInteractiveGrid();
            grid = document.getElementById('interactiveGrid');
        });
        window.addEventListener('resize', createInteractiveGrid);
        window.addEventListener('scroll', updateGridOnScroll, { passive: true });
        
        // Individual square timing system
        let cellTimeouts = new Map(); // Track individual timeouts for each cell
        
        // High refresh rate mouse tracking
        let mouseX = 0;
        let mouseY = 0;
        let animationFrameId = null;
        
        // Track mouse position with high frequency
        document.addEventListener('mousemove', function(e) {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });
        
        // Smooth grid lighting with requestAnimationFrame
        function updateGridLighting() {
            const grid = document.getElementById('interactiveGrid');
            const cells = grid.querySelectorAll('.grid-cell');
            
            cells.forEach(cell => {
                const rect = cell.getBoundingClientRect();
                
                // Check if mouse is directly over this cell (exact square only)
                const isMouseOver = mouseX >= rect.left && 
                                  mouseX < rect.right && 
                                  mouseY >= rect.top && 
                                  mouseY < rect.bottom;
                
                if (isMouseOver) {
                    // Clear any existing timeout for this cell
                    if (cellTimeouts.has(cell)) {
                        clearTimeout(cellTimeouts.get(cell));
                        cellTimeouts.delete(cell);
                    }
                    
                    // Activate only this exact square with solid illumination
                    cell.style.background = `rgba(51, 102, 255, 0.15)`;
                    cell.style.borderColor = `rgba(51, 102, 255, 0.6)`;
                    cell.style.boxShadow = `0 0 20px rgba(51, 102, 255, 0.4)`;
                    cell.style.transform = `scale(1.02)`;
                    cell.classList.add('active');
                    
                    // Set individual timeout for this cell
                    const timeoutId = setTimeout(() => {
                        cell.style.background = '';
                        cell.style.borderColor = 'rgba(51, 102, 255, 0.1)';
                        cell.style.boxShadow = '';
                        cell.style.transform = 'scale(1)';
                        cell.classList.remove('active');
                        cellTimeouts.delete(cell);
                    }, 1500);
                    
                    cellTimeouts.set(cell, timeoutId);
                }
            });
            
            // Continue the animation loop
            animationFrameId = requestAnimationFrame(updateGridLighting);
        }
        
        // Start the high refresh rate animation
        updateGridLighting();
    </script>
</body>
</html>